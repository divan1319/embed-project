import{aO as L,k as R,j as l,d as k}from"./app-BT67MAIW.js";var A={BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const e=L.create({baseURL:A.VITE_APP_API_URL,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),S=R("books",()=>{const g=l([]),u=l([]),p=l([]),h=l([]),d=k({books:0,loanedBooks:0}),c=k({status:!1,message:""}),n=async()=>{await e.get("/books").then(a=>{console.log(a),g.value=a.data.data}).catch(a=>{console.log(a),s(!0,a.response.data.message)})},r=async()=>{await e.get("/authors").then(a=>{console.log(a),p.value=a.data.data}).catch(a=>{console.log(a),s(!0,a.response.data.message)})},b=async()=>{await e.get("/location").then(a=>{console.log(a),h.value=a.data.data}).catch(a=>{console.log(a),s(!0,a.response.data.message)})},m=async a=>{await e.post("/books/create",a).then(o=>{console.log(o.data),n()}).catch(o=>{console.log(o),s(!0,o.response.data.message)})},f=async a=>{await e.put(`/books/${a}/disable`).then(o=>(console.log(o.data),n(),o.data.message)).catch(o=>{console.log(o),s(!0,o.response.data.message)})},w=async a=>{await e.put(`/books/${a}/allow`).then(o=>(console.log(o.data),n(),o.data.message)).catch(o=>{console.log(o),s(!0,o.response.data.message)})},B=async(a,o)=>{await e.put(`/books/${a}/update`,o).then(t=>{console.log(t.data),n()}).catch(t=>{console.log(t),s(!0,t.response.data.message)})},y=async(a,o)=>{await e.post(`/books/loans/${a}/create`,o).then(t=>{console.log(t.data),n(),s(!1,"")}).catch(t=>{s(!0,t.response.data.message)})},i=async()=>{await e.get("/books/loaned").then(a=>{s(!1,""),u.value=a.data.data}).catch(a=>{s(!0,a.response.data.message)})},_=async(a,o)=>{await e.put(`/books/loans/${a}/update`,o).then(t=>{i(),console.log(t),s(!1,"")}).catch(t=>{console.log(t.response),s(!0,t.response.data.message)})},v=async()=>{await e.get("/books/total_books").then(a=>{console.log(a.data),d.books=a.data.total_libro,d.loanedBooks=a.data.total_prestados,s(!1,"")}).catch(a=>{console.log(a.response),s(!0,a.response.data.message)})},s=(a,o)=>{c.status=a,c.message=o??c.message};return{books:g,authors:p,locations:h,errors:c,booksLoaned:u,total:d,fetchDataAllBooks:n,getAuthors:r,getLocations:b,saveBook:m,disableBook:f,updateBook:B,loanBook:y,hasErrors:s,getLoanedBooks:i,returnBook:_,allowBook:w,getTotalBooks:v}});export{e as a,S as u};
